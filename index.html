<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Ç∑„É≥„Éó„É´UST„Ç®„Éá„Ç£„Çø</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <!-- ÂÖà„Å´„É©„Ç§„Éñ„É©„É™Ë™≠„ÅøËæº„Åø -->
    <script src="https://cdn.jsdelivr.net/npm/encoding-japanese@2.0.0/encoding.min.js"></script>

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
<!-- „ÉÑ„Éº„É´„Éê„Éº -->
        <div class="toolbar">
            <button id="clear-btn" class="primary" title="„ÇØ„É™„Ç¢">üóëÔ∏è</button>
            <button id="undo-btn" title="ÂÖÉ„Å´Êàª„Åô">‚Ü©Ô∏è</button>
            <button id="redo-btn" title="„ÇÑ„ÇäÁõ¥„Åô">‚Ü™Ô∏è</button>
            <button id="save-midi-btn" class="primary" title="MIDI‰øùÂ≠ò">üíæ</button>
            <div class="spacer">|</div>
            <div class="playback-controls">
                <button id="play-btn" title="ÂÜçÁîü">‚ñ∂</button>
                <button id="pause-btn" disabled title="‰∏ÄÊôÇÂÅúÊ≠¢">‚ùö‚ùö</button>
                <button id="stop-btn" disabled title="ÂÅúÊ≠¢">‚ñ†</button>
            </div>
            <div class="spacer">|</div>
            <div class="tempo-control">
                <label for="tempo-input" title="„ÉÜ„É≥„Éù">üéµ</label>
                <input type="number" id="tempo-input" min="40" max="300" value="120" style="width: 50px;" title="„ÉÜ„É≥„Éù (BPM)">
            </div>
            <div class="spacer">|</div>
            <div class="bar-count-control">
                <label for="bar-count-input" title="Â∞èÁØÄÊï∞">üìè</label>
                <input type="number" id="bar-count-input" min="1" max="100" value="16" style="width: 50px;" title="Â∞èÁØÄÊï∞">
            </div>
            <div class="spacer">|</div>
            <div class="lyric-mode-control">
                <button id="lyric-mode-btn" title="Ê≠åË©ûÂÖ•Âäõ„É¢„Éº„ÉâÂàáÊõø">üî§</button>
            </div>
            <span id="overlap-info" style="color: #ff5555; margin-left: 5px; font-size: 12px;"></span>
            <div class="spacer">|</div>
            <div class="volume-control">
                <span title="Èü≥Èáè">üîä</span>
                <input type="range" id="volume-slider" min="0" max="100" value="50" style="width: 80px; vertical-align: middle;">
            </div>
            <button id="sound-test" title="Èü≥„ÉÜ„Çπ„Éà">üéπ</button>
        </div>
        
        <!-- „Éî„Ç¢„Éé„É≠„Éº„É´„Ç®„É™„Ç¢ -->
        <div class="piano-roll-area">
            <!-- „Éî„Ç¢„Éé„Ç≠„Éº -->
            <div class="piano-keys" id="piano-keys">
                <!-- „Éî„Ç¢„Éé„Ç≠„Éº„ÅØJavaScript„ÅßÁîüÊàê -->
            </div>
            
            <!-- „Ç∞„É™„ÉÉ„Éâ„Ç®„É™„Ç¢ -->
            <div class="grid-area" id="grid-area">
                <!-- „Ç∞„É™„ÉÉ„Éâ -->
                <div class="bar-numbers" id="bar-numbers">
                    <!-- Â∞èÁØÄÁï™Âè∑„ÅØJavaScript„ÅßÁîüÊàê -->
                </div>
                <div class="grid" id="grid">
                    <!-- „Ç∞„É™„ÉÉ„ÉâË°å„ÅØJavaScript„ÅßÁîüÊàê -->
                </div>
            </div>
        </div>
        
        <!-- „É¢„Éê„Ç§„É´Êìç‰Ωú„Éë„Éç„É´ -->
        <div class="control-panel">
            <!-- „Éé„Éº„ÉàÊìç‰Ωú -->
            <div class="control-group">
                <div class="control-group-title">„Éé„Éº„ÉàÁßªÂãï</div>
                <div class="button-row">
                    <button class="control-button" id="move-left">‚Üê</button>
                    <button class="control-button" id="move-right">‚Üí</button>
                </div>
                <div class="button-row">
                    <button class="control-button" id="move-up">‚Üë</button>
                    <button class="control-button" id="move-down">‚Üì</button>
                </div>
            </div>
            
            <!-- „Éé„Éº„ÉàÈï∑„Åï -->
            <div class="control-group">
                <div class="control-group-title">Èï∑„Åï</div>
                <div class="button-row">
                    <button class="control-button" id="shorter">‚àí</button>
                    <button class="control-button" id="longer">Ôºã</button>
                </div>
            </div>
            
            <!-- „Ç∞„É™„ÉÉ„ÉâË®≠ÂÆö -->
            <div class="control-group">
                <div class="control-group-title">„Ç∞„É™„ÉÉ„Éâ</div>
                <div class="button-row">
                    <button class="control-button grid-button" id="grid-4th">4ÂàÜ</button>
                    <button class="control-button grid-button" id="grid-8th">8ÂàÜ</button>
                </div>
                <div class="button-row">
                    <button class="control-button grid-button" id="grid-16th">16ÂàÜ</button>
                    <button class="control-button grid-button" id="grid-32nd">32ÂàÜ</button>
                </div>
                <div class="button-row" style="margin-top: 4px;">
                    <label style="display: flex; align-items: center; cursor: pointer; color: #aaa; font-size: 12px;">
                        <input type="checkbox" id="triplet-grid" style="margin-right: 5px;"> „Éà„É™„Éó„É¨„ÉÉ„Éà
                    </label>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/encoding-japanese@2.0.0/encoding.min.js"></script>
    <script src="script.js"></script>
</body>
</html>